---
tags:
  - base
---
Поведение по умолчанию для передачи аргументов в [[Функции|функцию]] - и возврата значений из [[Функции|функции]] - "копирование", но некоторые копирования могут быть неявно оптимизированны и превращены в перемещения.

По умолчанию мы выполняем копирование, но если мы хотим ссылаться на объект, то используем [[Ссылки|ссылку]]: 

```cpp
void test(vector<int> v, vector<int>& rv) {
	v[1] = 99; // Изменение локальной переменной
	rv[2] = 66; // Изменение по ссылке того, что было передано
}

int main() {
	vector<int> fib {1, 2, 3, 5, 8, 13, 21};
	test(fib, fib);
	cout << fib[1] << ' ' << fib[2] << endl; // Выведет 2 66
}
```

Когда нас интересует производительность, мы обычно передаем малые значения по значению, а более крупные - по [[Ссылки|ссылке]]. Здесь "маленький" означает "что - то, что очень дешево копируется".

Если мы хотим передавать аргументы по [[Ссылки|ссылке]] ради производительности, но нам не нужно изменять аргумент, мы передаем [[Константы|константную]] [[Ссылки|ссылку]] `const object& obj`. 

В [[Функции|функцию]] можно добавить *аргумент по умолчанию*

```cpp
void print(int value, int base = 10);

print(x, 16);
print(x, 60);
print(x); // base будеи равно 10
```

> [!tip]
> - Передавайте "малые" значения в [[Функции|функцию]] по значению, а "большие" по ссылке.
> - Предпочитайте передачу по [[Константы|константной]] [[Ссылки|ссылке]].

[[!Язык программирования C++. Краткий курс|Источник]]
