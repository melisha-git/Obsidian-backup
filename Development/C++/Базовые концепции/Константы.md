---
tags:
  - base
  - oop
---
`const` - "я обещаю не изменять это значение"
`constexpr` - "вычисляется во время компиляции"

Что бы [[Функции|функция]] могла использоваться в константном выражении, т.е вычисляться компилятором, она должна быть `constexpr`

```cpp
constexpr double square(double x) { return x * x; }

// OK. константное выражение
constexpr double max1 = 1.4 * square(17);

// Ошибка: var - не константное выражение
constexpr double max2 = 1.4 * square(var);

// OK. может быть вычеслено во время выполнения
const double max3 = 1.4 * square(var);

```

> [!info]
> [[Функции|Функция]], объявленная как `constexpr` может применяться к неконстантным [[Аргументы функции|аргументам]], но когда это происходит, результат не является константным выражением.

> [!tip]
> - Предпочитайте неизменяемые данные



Спецификатор `const` для функций указывают, что эти функции (Мы говорим про методы класса), не изменяют объект (поля класса), для которого вызываются.

```cpp
size_t Vector::size() const {
	return this->sz_;
}
```

В ассемблированном коде имеет примерно такую запись:

```cpp
size_t size(const Vector* this)  { // в данном случае this константный и мы не можем изменить sz_;
	return this->sz_;
}
```

[[!Язык программирования C++. Краткий курс|Источник]]

