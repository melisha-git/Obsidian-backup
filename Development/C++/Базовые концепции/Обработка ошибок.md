---
tags:
  - base
---

Генерация [[Исключения]] - не единственный вариант сообщить об ошибке. Рассмотрим следующийе варианты:

- Генерация [[Исключения]] 
- [[Возвращаемое значение|Возвращает]] некоторое значение, указывающее на ошибку.
- Завершение работы программы (`exit()`, `terminate()`, `abbort()`) 

Индикатор ошибки ("код ошибки") [[Возвращаемое значение|возвращается]] в следующих случаях.
- Когда ошибка - нормальное, ожидаемое явление.
- Ожидается, что непосредственная вызывающая [[Функции|функция]] в состоянии обработать ошибку.

> [!tip]
> - Применяйте коды ошибок там, где предполагается, что обрабатывать ошибки будет вызывающая [[Функции|функция]]

[[Исключения]] генерируются в следующих ситуациях:
- Ошибка настолько редкая, что программист, скорее всего, забудет выполнить ее проверку.
- Ошибка не может быть обработана непосредственно вызывающей [[Функции|функцией]]. Вместо этого ошибка может быть передана конечной вызывающей  [[Функции|функции]].
- В [[Модули|модулях]] более низкого уровня в приложении могут быть добавлены новые типы ошибок, при том что [[Модули|модули]] более высокого уровня не были написаны с учетом необходимости обработки таких ошибок.
- Отсутствует подходящий путь возврата для кодов ошибок. Например, [[Конструкторы|конструктор]] не имеет [[Возвращаемое значение|возвращаемого значения]].
- Путь возрата значения из [[Функции]] оказывается более сложным или дорогостоящим.
- Ошибка должна быть передана цепочке вызовов "конечной вызывающей [[Функции]]". Многократная проверка кода ошибки утомительна, дорогостоящая и чревата ошибками.
- Восстановление после ошибки зависит от результатов нескольких вызовов [[Функции|функций]], что ведет к необходимости поддерживать локальное состояние между вызовами и к усложненным управляющим [[Структуры|структурам]].
- [[Функции|Функция]], обнаружившая ошибку, является [[Функции|функцией]] обратного вызова, так что непосредственная вызывающая [[Функции|функция]] может даже не знать, что [[Функции|функция]] была вызвана.
- Ошибка требует выполнения некоторой "отмены действий"

> [!tip]
> - Генерируйте [[Исключения|исключения]], если предполагается, что ошибка должна передаваться через несколько [[Функции||функций]].
> - Если вы не знаете, что лучше использовать - предпочитайте [[Исключения]].

Программа завершается в следующих случаях :
- Восстановление после ошибки данного вида невозможно.
- В данной системе обработка нетривиальных ошибок требует перезапуска потока, процесса или компьютера
Так же можно воспользоваться [[noexcept|noexcept]]

> [!tip]
> - Разрабатывайте стратегию обработки ошибок как можно раньше при проектировании

[[!Язык программирования C++. Краткий курс|Источник]]
