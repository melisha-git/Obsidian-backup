---
tags:
  - oop
---

*Абстрактный тип* - это тип, который полностью изолирует пользователя от деталей реализации.

```cpp
class Container {
	virtual double& operator[](int) = 0;
	virtual int size() const = 0;

	virtual ~Container() {}
};
```

Этот [[Классы|класс]] является чисто интерфейсом для некоторых [[Контейнеры|контейнеров]], которые будут определены позже.

[[virtual]]

Абстрактный [[Классы|класс]] определяет только интерфейс без реализации. Что бы он был полезен, мы должны написать [[Контейнеры|контейнер]]:

```cpp
// VectorContainer реализует Container
class VectorContainer : public Container {
public:
	VectorContainer(int s) : v(s) {}
	~VectorContainer() {}

	double& operator[](int idx) override { return v[i]; }
	int size() const override { return v.size() };
private:
	Vector v;
}
```

`VectorContainer`  [[Наследование|наследует]] интерфейс своего базового [[Классы|класса]] - `Container`

[[Деструкторы|Деструктор]] `~VectorContainer` перекрывает `~Container`, неявно вызывая [[Деструкторы|деструктор]] базового [[Классы|класса]] внутри себя.

Оборотной стороной *абстрактных типов* является то, что работать с такими объектами требуется только через [[Ссылки]] или [[Указатели]].

> [!tip]
> - Когда требуется полное разделение интерфейса и реализации используйте абстрактные [[Классы|классы]]

[[!Язык программирования C++. Краткий курс|Источник]]
